# Chapter 5: Publishing with Docusaurus

## What is Docusaurus?

Docusaurus is Meta's open-source documentation framework built on React. It transforms markdown files into beautiful, fast, and SEO-friendly documentation websites. For spec-driven development projects, Docusaurus is the perfect publishing platform—it mirrors the markdown-first approach you're already using for specifications.

Why Docusaurus matters for AI-driven development:

- **Markdown-native**: Your specs and docs are already in markdown
- **Version control friendly**: Everything is files in Git
- **AI-friendly**: Easy for Claude Code to generate and update
- **Fast deployment**: From markdown to production in minutes
- **Professional results**: Beautiful, accessible documentation out of the box

## Why Publish Your Specs?

Publishing your specifications and documentation serves multiple purposes:

### For Solo Developers

- **Future reference**: Return to projects months later with full context
- **Portfolio showcase**: Demonstrate systematic, professional approach
- **Learning record**: Track your architectural decisions over time

### For Teams

- **Shared understanding**: Everyone references the same source of truth
- **Onboarding**: New members understand projects quickly
- **Async collaboration**: Stakeholders review specs without meetings

### For Open Source

- **Contributor guidance**: Clear specs help contributors understand intent
- **User documentation**: Specs explain what the project does and why
- **Project credibility**: Professional documentation signals quality

## Getting Started with Docusaurus

### Installation

Docusaurus requires Node.js 20+. Initialize a new site:

```bash
# Create new Docusaurus site
npx create-docusaurus@latest my-docs classic

cd my-docs
npm start
```

Your site opens at `http://localhost:3000` with example content.

### Project Structure

```
my-docs/
├── docs/                    # Documentation markdown files
│   ├── intro.md
│   └── chapter-01.md
├── blog/                    # Blog posts (optional)
├── src/
│   ├── components/          # Custom React components
│   ├── css/                 # Styling
│   └── pages/               # Custom pages
├── static/                  # Static assets (images, files)
│   └── img/
├── docusaurus.config.ts     # Site configuration
├── sidebars.ts              # Sidebar navigation
└── package.json
```

### Key Configuration File

`docusaurus.config.ts` controls your site:

```typescript
const config: Config = {
  title: "AI & Spec-Driven Development",
  tagline: "Build better software with AI and specifications",
  url: "https://yourdomain.com",
  baseUrl: "/",

  organizationName: "your-github-org",
  projectName: "ai-spec-book",

  presets: [
    [
      "classic",
      {
        docs: {
          sidebarPath: "./sidebars.ts",
          editUrl: "https://github.com/your-org/ai-spec-book/edit/main/",
        },
        blog: {
          showReadingTime: true,
        },
        theme: {
          customCss: "./src/css/custom.css",
        },
      },
    ],
  ],

  themeConfig: {
    navbar: {
      title: "AI Spec Book",
      logo: {
        alt: "Logo",
        src: "img/logo.svg",
      },
      items: [
        {
          type: "docSidebar",
          sidebarId: "tutorialSidebar",
          position: "left",
          label: "Book",
        },
        { to: "/blog", label: "Blog", position: "left" },
        {
          href: "https://github.com/your-org/ai-spec-book",
          label: "GitHub",
          position: "right",
        },
      ],
    },
  },
};
```

## Organizing Your Content

### Creating Documentation Pages

Each markdown file in `docs/` becomes a page:

**docs/chapter-01.md:**

```markdown
---
sidebar_position: 1
title: Introduction to Spec-Driven Development
---

# Chapter 1: Introduction to Spec-Driven Development

Your content here...
```

**Frontmatter fields:**

- `sidebar_position`: Order in navigation (1, 2, 3...)
- `title`: Page title (overrides heading)
- `description`: Meta description for SEO
- `keywords`: SEO keywords
- `slug`: Custom URL path
- `tags`: Categorization

### Sidebar Configuration

`sidebars.ts` controls navigation:

```typescript
const sidebars = {
  tutorialSidebar: [
    "intro",
    {
      type: "category",
      label: "Getting Started",
      items: ["chapter-01", "chapter-02"],
    },
    {
      type: "category",
      label: "Tools",
      items: ["chapter-03", "chapter-04"],
    },
    {
      type: "category",
      label: "Publishing",
      items: ["chapter-05"],
    },
  ],
};
```

**Auto-generation** (easier):

```typescript
const sidebars = {
  tutorialSidebar: [
    {
      type: "autogenerated",
      dirName: ".",
    },
  ],
};
```

Docusaurus generates sidebar from `sidebar_position` frontmatter.

### Document Structure Best Practices

**Clear hierarchy:**

```
docs/
├── intro.md
├── getting-started/
│   ├── chapter-01.md
│   └── chapter-02.md
├── tools/
│   ├── chapter-03.md
│   └── chapter-04.md
└── advanced/
    └── chapter-05.md
```

**Use category index pages:**

```markdown
---
sidebar_position: 1
---

# Getting Started

This section introduces spec-driven development fundamentals.
```

## Writing Docusaurus-Compatible Markdown

### Standard Markdown Features

Docusaurus supports all standard markdown plus enhancements:

**Headings:**

```markdown
# H1 - Page Title

## H2 - Major Section

### H3 - Subsection
```

**Emphasis:**

```markdown
**bold text**
_italic text_
`inline code`
```

**Lists:**

```markdown
1. Ordered item
2. Another item

- Unordered item
- Another item
```

**Links:**

```markdown
[External link](https://example.com)
[Internal link](./other-doc.md)
[Heading link](#section-name)
```

**Images:**

```markdown
![Alt text](/img/screenshot.png)
![Relative image](./images/diagram.png)
```

### Code Blocks with Syntax Highlighting

````markdown
```javascript
function hello() {
  console.log("Hello world");
}
```

```python title="example.py"
def greet(name):
    print(f"Hello, {name}!")
```

```typescript {2,4-6}
// Highlighted lines
function calculate() {
  const x = 10; // Line 2 highlighted
  const y = 20;
  const z = x + y; // Lines 4-6 highlighted
  return z;
}
```
````

**Supported languages:** JavaScript, TypeScript, Python, Java, Go, Rust, Bash, SQL, JSON, YAML, and 100+ more.

### Docusaurus-Specific Features

#### Admonitions (Callouts)

```markdown
:::note
This is important context to remember.
:::

:::tip
Here's a helpful tip for success.
:::

:::info
Additional information you should know.
:::

:::warning
Be careful with this approach.
:::

:::danger
This can cause serious problems.
:::
```

**Custom titles:**

```markdown
:::tip Best Practice
Always write specifications before code.
:::
```

#### Tabs

````markdown
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="npm" label="npm" default>
    ```bash
    npm install specifyplus
    ```
  </TabItem>
  <TabItem value="yarn" label="Yarn">
    ```bash
    yarn add specifyplus
    ```
  </TabItem>
  <TabItem value="pnpm" label="pnpm">
    ```bash
    pnpm add specifyplus
    ```
  </TabItem>
</Tabs>
````

#### Code Block Features

**Titles:**

````markdown
```javascript title="src/app.js"
const app = express();
```
````

**Line highlighting:**

````markdown
```python {3,5-7}
def process_data(data):
    validated = validate(data)
    filtered = filter(validated)  # Highlighted

    # Lines 5-7 highlighted
    transformed = transform(filtered)
    stored = store(transformed)
    return stored
```
````

**Line numbers:**

````markdown
```typescript showLineNumbers
function authenticate(user) {
  return verifyCredentials(user);
}
```
````

## Using AI to Generate Documentation

### Claude Code for Documentation

Claude Code excels at generating Docusaurus-compatible documentation.

**Generate entire chapter:**

```
> create a new chapter in docs/chapter-06.md about testing strategies.
Include:
- Overview of testing approaches
- Unit testing with examples
- Integration testing patterns
- Code examples in JavaScript and Python
- Use Docusaurus admonitions for tips and warnings
- Add frontmatter with sidebar_position: 6
```

**Update existing docs:**

```
> update docs/chapter-03.md to include the new MCP features
released in Spec-Kit Plus v2.0. Add code examples and a tip admonition.
```

**Generate API documentation:**

```
> generate API documentation for all endpoints in src/api/.
Create separate markdown files in docs/api/ with:
- Endpoint description
- Request/response examples
- Authentication requirements
- Use tabs for different HTTP methods
```

**Convert specs to docs:**

```
> convert .specify/specs/001-user-auth/spec.md to a Docusaurus
documentation page at docs/features/authentication.md. Make it
user-facing, remove internal implementation details, add examples.
```

### Systematic Documentation Generation

**Step 1: Define documentation structure**

```
> create a documentation outline for this project based on the
codebase structure. Save it to docs/outline.md
```

**Step 2: Generate all pages**

```
> using docs/outline.md as a guide, generate all documentation
pages in the docs/ directory. Use proper frontmatter, code examples,
and Docusaurus features throughout.
```

**Step 3: Generate sidebar**

```
> update sidebars.ts to reflect the new documentation structure
from docs/. Use logical categories and ordering.
```

**Step 4: Review and refine**

```
> review all generated documentation for:
- Broken links
- Missing code examples
- Unclear explanations
- Proper Docusaurus syntax
Fix any issues found.
```

## Customizing Your Site

### Theme Configuration

#### Dark Mode

```typescript
themeConfig: {
  colorMode: {
    defaultMode: 'light',
    disableSwitch: false,
    respectPrefersColorScheme: true,
  },
}
```

#### Navbar

```typescript
navbar: {
  title: 'Your Site',
  logo: {
    alt: 'Site Logo',
    src: 'img/logo.svg',
    srcDark: 'img/logo-dark.svg',  // Dark mode variant
  },
  items: [
    // Dropdown menu
    {
      type: 'dropdown',
      label: 'Resources',
      position: 'left',
      items: [
        {label: 'Docs', to: '/docs/intro'},
        {label: 'Blog', to: '/blog'},
        {label: 'Examples', to: '/examples'},
      ],
    },
    // Search bar
    {
      type: 'search',
      position: 'right',
    },
    // GitHub link
    {
      href: 'https://github.com/your-org/repo',
      position: 'right',
      className: 'header-github-link',
      'aria-label': 'GitHub repository',
    },
  ],
}
```

#### Footer

```typescript
footer: {
  style: 'dark',
  links: [
    {
      title: 'Docs',
      items: [
        {label: 'Getting Started', to: '/docs/intro'},
        {label: 'API Reference', to: '/docs/api'},
      ],
    },
    {
      title: 'Community',
      items: [
        {label: 'Discord', href: 'https://discord.gg/...'},
        {label: 'Twitter', href: 'https://twitter.com/...'},
      ],
    },
    {
      title: 'More',
      items: [
        {label: 'Blog', to: '/blog'},
        {label: 'GitHub', href: 'https://github.com/...'},
      ],
    },
  ],
  copyright: `© ${new Date().getFullYear()} Your Project.`,
}
```

### Custom Styling

**src/css/custom.css:**

```css
:root {
  --ifm-color-primary: #2e8555;
  --ifm-color-primary-dark: #29784c;
  --ifm-color-primary-darker: #277148;
  --ifm-color-primary-darkest: #205d3b;
  --ifm-color-primary-light: #33925d;
  --ifm-color-primary-lighter: #359962;
  --ifm-color-primary-lightest: #3cad6e;
  --ifm-code-font-size: 95%;
  --ifm-font-family-base: "Inter", system-ui, sans-serif;
}

[data-theme="dark"] {
  --ifm-color-primary: #25c2a0;
  --ifm-background-color: #1a1a1a;
}

/* Custom admonition styling */
.admonition {
  margin-bottom: 1em;
  padding: 15px 30px 15px 15px;
}

/* Code block enhancements */
.prism-code {
  font-size: 14px;
  line-height: 1.5;
}
```

### Creating Custom Pages

**src/pages/index.tsx** (landing page):

```tsx
import Layout from "@theme/Layout";
import Link from "@docusaurus/Link";

export default function Home() {
  return (
    <Layout
      title="AI & Spec-Driven Development"
      description="Build better software faster"
    >
      <header className="hero hero--primary">
        <div className="container">
          <h1 className="hero__title">AI & Spec-Driven Development</h1>
          <p className="hero__subtitle">
            Systematic software development with AI assistance
          </p>
          <div>
            <Link
              className="button button--secondary button--lg"
              to="/docs/intro"
            >
              Get Started →
            </Link>
          </div>
        </div>
      </header>
    </Layout>
  );
}
```

## Blog Integration

### Creating Blog Posts

**blog/2025-01-15-getting-started.md:**

```markdown
---
slug: getting-started-spec-driven
title: Getting Started with Spec-Driven Development
authors: [your-name]
tags: [specs, ai, tutorial]
---

Your blog post content here...

<!--truncate-->

Content after this marker appears only on the full post page.
```

### Blog Configuration

```typescript
blog: {
  showReadingTime: true,
  blogSidebarTitle: 'All posts',
  blogSidebarCount: 'ALL',
  feedOptions: {
    type: 'all',
    copyright: `Copyright © ${new Date().getFullYear()} Your Project`,
  },
}
```

### Author Profiles

**blog/authors.yml:**

```yaml
your-name:
  name: Your Name
  title: Developer @ Company
  url: https://github.com/your-name
  image_url: https://github.com/your-name.png
```

## Search Integration

### Algolia DocSearch (Free for Open Source)

```typescript
themeConfig: {
  algolia: {
    appId: 'YOUR_APP_ID',
    apiKey: 'YOUR_SEARCH_API_KEY',
    indexName: 'your_index_name',
    contextualSearch: true,
    searchParameters: {},
  },
}
```

Apply at: https://docsearch.algolia.com/apply/

### Local Search (Alternative)

```bash
npm install @easyops-cn/docusaurus-search-local
```

**docusaurus.config.ts:**

```typescript
themes: [
  [
    require.resolve("@easyops-cn/docusaurus-search-local"),
    {
      hashed: true,
      language: ["en"],
      highlightSearchTermsOnTargetPage: true,
    },
  ],
],
```

## Deployment

### Building for Production

```bash
npm run build
```

Output in `build/` directory - static HTML, CSS, and JavaScript.

### GitHub Pages

**Method 1: Automatic with GitHub Actions**

**.github/workflows/deploy.yml:**

```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [main]

permissions:
  contents: read
  pages: write
  id-token: write

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: npm

      - name: Install dependencies
        run: npm ci

      - name: Build website
        run: npm run build

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: build

      - name: Deploy to GitHub Pages
        uses: actions/deploy-pages@v4
```

**Enable GitHub Pages:**

1. Repository Settings → Pages
2. Source: GitHub Actions

**Update docusaurus.config.ts:**

```typescript
url: 'https://your-username.github.io',
baseUrl: '/your-repo-name/',
organizationName: 'your-username',
projectName: 'your-repo-name',
```

**Method 2: Manual Deployment**

```bash
# Set environment variables
GIT_USER=your-username npm run deploy
```

### Netlify

**netlify.toml:**

```toml
[build]
  command = "npm run build"
  publish = "build"

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
```

**Deploy:**

1. Connect GitHub repository to Netlify
2. Configure build settings (auto-detected)
3. Deploy

### Vercel

```bash
npm install -g vercel
vercel
```

Or connect repository via Vercel dashboard.

### Self-Hosted

```bash
npm run build
npm run serve  # Test locally

# Copy build/ to your web server
rsync -avz build/ user@server:/var/www/docs/
```

## AI-Powered Documentation Workflows

### Workflow 1: Documentation-First Feature Development

**Step 1: Write user-facing docs**

```
> create documentation for the password reset feature at
docs/features/password-reset.md before implementation. Include:
- User guide for resetting passwords
- Screenshots placeholders
- Troubleshooting section
- Security information
```

**Step 2: Implement feature**

```
/sp.specify Implement password reset feature matching the
documentation at docs/features/password-reset.md
```

**Step 3: Update docs with screenshots**

```
> update docs/features/password-reset.md with actual screenshots
from static/img/password-reset/
```

### Workflow 2: Spec-to-Doc Conversion

**Automated conversion:**

```
> for each spec in .specify/specs/, create user-facing documentation
in docs/features/. Remove implementation details, focus on user
benefits and usage. Add examples and troubleshooting.
```

### Workflow 3: Continuous Documentation

**Post-implementation update:**

```
> I just implemented the notification system. Update all relevant
documentation:
- Add notifications to docs/features/
- Update docs/api/ with new endpoints
- Add to docs/quickstart/ getting started guide
- Create blog post announcing the feature
```

### Workflow 4: Documentation Review

```
> review all documentation in docs/ for:
- Broken internal links
- Outdated information
- Missing code examples
- Unclear explanations
- Docusaurus syntax errors

Generate a report and fix issues.
```

## Best Practices

### Content Best Practices

**Do:**

- ✅ Write clear, concise explanations
- ✅ Include code examples for concepts
- ✅ Use admonitions to highlight important points
- ✅ Add images and diagrams where helpful
- ✅ Keep navigation shallow (2-3 levels max)
- ✅ Update docs with code changes
- ✅ Test all code examples

**Don't:**

- ❌ Assume reader knowledge
- ❌ Use jargon without explanation
- ❌ Create orphan pages (no links to them)
- ❌ Let docs drift from code
- ❌ Overcomplicate navigation
- ❌ Forget mobile users

### Technical Best Practices

**Performance:**

```typescript
// Enable compression
webpack: {
  jsLoader: isServer => ({
    loader: require.resolve('swc-loader'),
  }),
},
```

**SEO:**

```markdown
---
title: Comprehensive Guide Title
description: Clear, concise description for search results
keywords: [relevant, keywords, for, seo]
---
```

**Accessibility:**

- Use semantic headings (H1 → H2 → H3)
- Provide alt text for images
- Ensure sufficient color contrast
- Test with keyboard navigation

### Maintenance

**Regular updates:**

- Review docs quarterly
- Update for new features
- Fix reported issues promptly
- Archive outdated content

**Version control:**

```typescript
// Enable versioning for stable APIs
versions: {
  current: {
    label: '2.0',
    path: '2.0',
  },
  '1.0': {
    label: '1.0',
    path: '1.0',
    banner: 'unmaintained',
  },
}
```

## Conclusion

Docusaurus transforms your markdown-based specifications and documentation into professional, accessible websites. For AI-driven, spec-driven development, it's the ideal publishing platform:

- **Seamless integration** with your markdown workflow
- **AI-friendly** content generation and updates
- **Professional results** with minimal configuration
- **Fast deployment** to multiple platforms
- **Great developer experience** with hot reload and TypeScript

The combination of spec-driven development, AI assistance, and Docusaurus creates a powerful workflow:

1. Write specs in markdown
2. Let AI implement features
3. Generate documentation with AI
4. Publish beautiful sites automatically

Your specifications become not just implementation guides, but living documentation that helps users, contributors, and future maintainers understand your project's design and intent.

With this foundation, you're equipped to build, document, and share software systematically—leveraging AI to accelerate every step while maintaining the rigor that ensures long-term success.
